<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scratch ç¨‹å¼é‚è¼¯æ¢ç´¢å„€è¡¨æ¿</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f5f5f4; /* Stone 100 - Warm neutral */
            color: #1c1917; /* Stone 900 */
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }

        /* Scratch-like Category Colors for UI elements */
        .scratch-motion { border-left: 5px solid #4C97FF; }
        .scratch-looks { border-left: 5px solid #9966FF; }
        .scratch-sound { border-left: 5px solid #CF63CF; }
        .scratch-events { border-left: 5px solid #FFBF00; }
        .scratch-control { border-left: 5px solid #FFAB19; }
        .scratch-sensing { border-left: 5px solid #5CB1D6; }
        
        .btn-motion { background-color: #4C97FF; }
        .btn-looks { background-color: #9966FF; }
        .btn-sound { background-color: #CF63CF; }
        .btn-events { background-color: #FFBF00; color: black; }
        .btn-control { background-color: #FFAB19; color: black; }
        .btn-sensing { background-color: #5CB1D6; }

        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .nav-active {
            border-bottom: 2px solid #ea580c; /* Orange 600 */
            color: #ea580c;
            font-weight: 700;
        }

        .transition-all-300 {
            transition: all 0.3s ease-in-out;
        }

        .animate-fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals (Stone) with Scratch-specific functional accent colors -->
    <!-- Application Structure Plan: 
         1. Header: Simple title and navigation for SPA behavior.
         2. Dashboard: Data visualization of the 20-question logic structure.
         3. Knowledge Base: Interactive card library for non-linear learning.
         4. Simulation: Linear quiz mode to validate understanding.
         Chosen because it transforms static quiz data into an explorable educational dashboard.
    -->
    <!-- Visualization & Content Choices:
         - Radar Chart (Chart.js): To show the distribution of logic categories (Motion, Control, etc.).
         - Progress Feedback: Progress bars and icon systems for the quiz.
         - Interactive Cards: To allow manual exploration of answers and rationale.
         - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. 
    -->
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-stone-800">ğŸ± Scratch é‚è¼¯å¯¦é©—å®¤</span>
                </div>
                <nav class="flex space-x-8">
                    <button onclick="app.navigate('dashboard')" id="nav-dashboard" class="nav-active px-3 py-2 text-sm font-medium hover:text-orange-600 transition-colors">æ¦‚è¦½å„€è¡¨æ¿</button>
                    <button onclick="app.navigate('knowledge')" id="nav-knowledge" class="px-3 py-2 text-sm font-medium text-stone-500 hover:text-orange-600 transition-colors">çŸ¥è­˜æ¢ç´¢</button>
                    <button onclick="app.navigate('quiz')" id="nav-quiz" class="px-3 py-2 text-sm font-medium text-stone-500 hover:text-orange-600 transition-colors">å¯¦æˆ°æ¸¬é©—</button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">

        <!-- VIEW: DASHBOARD -->
        <section id="view-dashboard" class="space-y-8 animate-fade-in">
            <div class="bg-white rounded-xl p-6 shadow-sm border border-stone-200">
                <div class="mb-6">
                    <h2 class="text-xl font-bold mb-2">ğŸ“Š çŸ¥è­˜çµæ§‹åˆ†æ</h2>
                    <p class="text-stone-600">
                        æœ¬å„€è¡¨æ¿åˆ†æäº† Scratch åŸºç¤èƒ½åŠ›æ¸¬é©—ä¸­çš„ <span class="font-bold text-orange-600">20</span> å€‹æ ¸å¿ƒæ¦‚å¿µã€‚é€éä¸‹æ–¹çš„åˆ†ä½ˆåœ–ï¼Œæ‚¨å¯ä»¥è§€å¯Ÿç›®å‰çš„å­¸ç¿’ç¯„ç–‡åˆ†ä½ˆï¼Œé€™æœ‰åŠ©æ–¼ç†è§£ä¸åŒç¨‹å¼ç©æœ¨é¡åˆ¥çš„æ¯”é‡ã€‚
                    </p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="flex flex-col items-center">
                        <div class="chart-container">
                            <canvas id="categoryChart"></canvas>
                        </div>
                        <p class="text-xs text-stone-400 mt-2">åœ–è¡¨ï¼šå„é¡åˆ¥é¡Œç›®æ•¸é‡åˆ†ä½ˆ (20é¡Œ)</p>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-100 text-center">
                            <div class="text-3xl font-bold text-blue-500" id="stat-total">20</div>
                            <div class="text-sm text-stone-500">ç¸½çŸ¥è­˜é»</div>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-100 text-center">
                            <div class="text-3xl font-bold text-purple-500">6</div>
                            <div class="text-sm text-stone-500">æ¶µè“‹é¡åˆ¥</div>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-100 text-center col-span-2">
                            <div class="text-lg font-semibold text-stone-700">æœ€æ–°æ›´æ–°</div>
                            <div class="text-sm text-stone-500 mt-1">å·²æ–°å¢ã€Œåˆ†èº«ç”¢ç”Ÿã€èˆ‡ã€Œç­‰å¾…ç›´åˆ°ã€é‚è¼¯</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div onclick="app.navigate('knowledge')" class="bg-gradient-to-br from-orange-50 to-white p-6 rounded-xl border border-orange-100 cursor-pointer hover:shadow-md transition-all-300">
                    <h3 class="text-lg font-bold text-orange-800 mb-2">ğŸ” æ¢ç´¢ç©æœ¨è©³è§£</h3>
                    <p class="text-sm text-stone-600">æ·±å…¥äº†è§£æ¯ä¸€å€‹ç©æœ¨èƒŒå¾Œçš„é‹ä½œåŸç†ï¼ŒåŒ…å« 20 å€‹é—œéµçŸ¥è­˜å¡ç‰‡ã€‚</p>
                </div>
                <div onclick="app.navigate('quiz')" class="bg-gradient-to-br from-blue-50 to-white p-6 rounded-xl border border-blue-100 cursor-pointer hover:shadow-md transition-all-300">
                    <h3 class="text-lg font-bold text-blue-800 mb-2">ğŸ“ é–‹å§‹æ¨¡æ“¬æ¸¬é©—</h3>
                    <p class="text-sm text-stone-600">æŒ‘æˆ°å®Œæ•´ 20 é“é¡Œç›®ï¼Œå³æ™‚æª¢æ¸¬ä½ çš„ Scratch è§€å¿µæ˜¯å¦æ­£ç¢ºã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-xl border border-stone-200">
                    <h3 class="text-lg font-bold text-stone-800 mb-2">ğŸ’¡ å­¸ç¿’æç¤º</h3>
                    <p class="text-sm text-stone-600">å¦‚æœé›·é”åœ–åœ¨æŸä¸€é¡åˆ¥è¼ƒçªå‡ºï¼Œä»£è¡¨è©²é¡åˆ¥åŒ…å«è¼ƒå¤šé€²éšé‚è¼¯ç´°ç¯€ã€‚</p>
                </div>
            </div>
        </section>

        <!-- VIEW: KNOWLEDGE BASE -->
        <section id="view-knowledge" class="hidden space-y-6">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4 mb-6">
                <div>
                    <h2 class="text-xl font-bold">ğŸ“š çŸ¥è­˜æ¢ç´¢åº«</h2>
                    <p class="text-sm text-stone-500 mt-1">æœ¬ç¯€æ”¶éŒ„ 20 å€‹çŸ¥è­˜é»ã€‚é»æ“Šå¡ç‰‡å¯æŸ¥çœ‹è©³ç´°è§£æã€‚</p>
                </div>
                
                <div class="flex flex-wrap gap-2" id="filter-container">
                    <button onclick="app.filterKnowledge('all')" class="px-3 py-1 rounded-full text-xs font-bold bg-stone-800 text-white hover:opacity-80 transition-opacity">å…¨éƒ¨</button>
                    <button onclick="app.filterKnowledge('Motion')" class="px-3 py-1 rounded-full text-xs font-bold btn-motion text-white hover:opacity-80 transition-opacity">å‹•ä½œ</button>
                    <button onclick="app.filterKnowledge('Looks')" class="px-3 py-1 rounded-full text-xs font-bold btn-looks text-white hover:opacity-80 transition-opacity">å¤–è§€</button>
                    <button onclick="app.filterKnowledge('Sound')" class="px-3 py-1 rounded-full text-xs font-bold btn-sound text-white hover:opacity-80 transition-opacity">éŸ³æ•ˆ</button>
                    <button onclick="app.filterKnowledge('Events')" class="px-3 py-1 rounded-full text-xs font-bold btn-events hover:opacity-80 transition-opacity">äº‹ä»¶</button>
                    <button onclick="app.filterKnowledge('Control')" class="px-3 py-1 rounded-full text-xs font-bold btn-control hover:opacity-80 transition-opacity">æ§åˆ¶</button>
                    <button onclick="app.filterKnowledge('Sensing')" class="px-3 py-1 rounded-full text-xs font-bold btn-sensing text-white hover:opacity-80 transition-opacity">åµæ¸¬</button>
                </div>
            </div>

            <div id="knowledge-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </section>

        <!-- VIEW: QUIZ SIMULATOR -->
        <section id="view-quiz" class="hidden max-w-3xl mx-auto">
            <div class="bg-white rounded-2xl shadow-lg overflow-hidden border border-stone-200">
                <div class="bg-stone-800 text-white p-6 flex justify-between items-center">
                    <div>
                        <h2 class="text-xl font-bold">ğŸš€ åŸºç¤èƒ½åŠ›æª¢å®š</h2>
                        <p class="text-stone-400 text-sm mt-1">è«‹å›ç­”ä»¥ä¸‹ 20 é“é¡Œç›®</p>
                    </div>
                    <div class="text-2xl font-mono" id="quiz-progress">1 / 20</div>
                </div>

                <div class="p-8">
                    <div class="w-full bg-stone-200 rounded-full h-2.5 mb-8">
                        <div id="progress-bar" class="bg-orange-500 h-2.5 rounded-full transition-all duration-500" style="width: 5%"></div>
                    </div>

                    <div id="quiz-content" class="min-h-[300px]">
                        <h3 id="question-text" class="text-xl font-semibold text-stone-800 mb-6 leading-relaxed">è¼‰å…¥ä¸­...</h3>
                        <div id="options-container" class="space-y-3"></div>
                    </div>

                    <div id="feedback-area" class="hidden mt-6 p-4 rounded-lg bg-stone-50 border border-stone-200 animate-fade-in">
                        <div class="flex items-start gap-3">
                            <span id="feedback-icon" class="text-2xl">ğŸ’¡</span>
                            <div>
                                <h4 id="feedback-title" class="font-bold text-stone-800">è§£æ</h4>
                                <p id="feedback-text" class="text-stone-600 text-sm mt-1"></p>
                            </div>
                        </div>
                        <button onclick="app.nextQuestion()" class="mt-4 px-6 py-2 bg-stone-800 text-white rounded-lg hover:bg-stone-700 transition-colors text-sm font-medium w-full sm:w-auto">
                            ä¸‹ä¸€é¡Œ âœ
                        </button>
                    </div>

                    <div id="result-area" class="hidden text-center py-10">
                        <div class="text-6xl mb-4">ğŸ†</div>
                        <h3 class="text-2xl font-bold text-stone-800 mb-2">æ¸¬é©—å®Œæˆï¼</h3>
                        <p class="text-stone-600 mb-8">ä½ çš„å¾—åˆ†ï¼š<span id="final-score" class="text-orange-600 font-bold text-3xl">0</span> / 20</p>
                        
                        <div class="flex justify-center gap-4">
                            <button onclick="app.resetQuiz()" class="px-6 py-3 bg-stone-800 text-white rounded-lg hover:bg-stone-700 transition-colors shadow-md">é‡æ–°æ¸¬é©—</button>
                            <button onclick="app.navigate('dashboard')" class="px-6 py-3 bg-white text-stone-800 border border-stone-300 rounded-lg hover:bg-stone-50 transition-colors shadow-sm">è¿”å›å„€è¡¨æ¿</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-white border-t border-stone-200 mt-auto py-6">
        <div class="max-w-7xl mx-auto px-4 text-center text-stone-400 text-sm">
            <p>Scratch ç¨‹å¼åŸºç¤äº’å‹•æ•™å­¸æ¨¡çµ„ â€¢ å…±æ”¶éŒ„ 20 é¡Œæ ¸å¿ƒé‚è¼¯æ¸¬é©—</p>
        </div>
    </footer>

    <script>
        const quizData = [
            { id: 1, category: "Motion", question: "åœ¨ Scratch çš„ã€Œå‹•ä½œã€ç©æœ¨ä¸­ï¼Œè‹¥æƒ³è®“è§’è‰²é¢æœå³æ–¹ï¼Œæ‡‰è©²å°‡ã€Œé¢æœæ–¹å‘ã€è¨­å®šç‚ºå¹¾åº¦ï¼Ÿ", options: [{ text: "0 åº¦", correct: false }, { text: "90 åº¦", correct: true }, { text: "180 åº¦", correct: false }, { text: "-90 åº¦", correct: false }], rationale: "åœ¨ Scratch åº§æ¨™ç³»ä¸­ï¼Œ90 åº¦ä»£è¡¨æ°´å¹³å‘å³ï¼Œ0 åº¦å‘ä¸Šï¼Œ180 åº¦å‘ä¸‹ï¼Œ-90 åº¦å‘å·¦ã€‚", hint: "æƒ³åƒæ™‚é˜æŒ‡é‡ï¼Œ3é»é˜æ–¹å‘ã€‚" },
            { id: 2, category: "Motion", question: "ã€Œæ»‘è¡Œ 1 ç§’åˆ°éš¨æ©Ÿä½ç½®ã€èˆ‡ã€Œç§»åˆ°éš¨æ©Ÿä½ç½®ã€ç©æœ¨çš„ä¸»è¦å€åˆ¥æ˜¯ä»€éº¼ï¼Ÿ", options: [{ text: "æ»‘è¡Œç©æœ¨æœ‰ç§»å‹•éç¨‹ï¼Œç§»åˆ°ç©æœ¨æ˜¯ç¬é–“è·³è½‰", correct: true }, { text: "æ»‘è¡Œåªèƒ½å»æ»‘é¼ ä½ç½®", correct: false }, { text: "ç§»åˆ°ç©æœ¨æœƒæ”¹è®Šæ–¹å‘", correct: false }, { text: "æ»‘è¡Œç©æœ¨å¯è¨­åº§æ¨™ï¼Œç§»åˆ°ä¸è¡Œ", correct: false }], rationale: "æ»‘è¡Œ (Glide) æœƒè¨ˆç®—è·¯å¾‘ä¸¦é¡¯ç¤ºå‹•ç•«ï¼Œç§»åˆ° (Go to) æ˜¯ç¬é–“ä½ç§»ã€‚", hint: "è§€å¯Ÿæ˜¯æ…¢æ…¢å‹•é‚„æ˜¯ç¬é–“é–ƒç¾ã€‚" },
            { id: 3, category: "Motion", question: "å¦‚æœæƒ³è¦è§’è‰²åœ¨ç¢°åˆ°èˆå°é‚Šç·£æ™‚è‡ªå‹•åå½ˆï¼Œæ‡‰è©²ä½¿ç”¨å“ªä¸€å€‹ç©æœ¨ï¼Ÿ", options: [{ text: "æ—‹è½‰ 15 åº¦", correct: false }, { text: "ç¢°åˆ°é‚Šç·£å°±åå½ˆ", correct: true }, { text: "ç§»åˆ° x:0 y:0", correct: false }, { text: "ä¸‹ä¸€é€ å‹", correct: false }], rationale: "ã€Œç¢°åˆ°é‚Šç·£å°±åå½ˆã€ç©æœ¨å°ˆé–€ç”¨æ–¼æª¢æŸ¥åº§æ¨™æ˜¯å¦è¶Šç•Œä¸¦åŸ·è¡Œåå‘å‹•ä½œã€‚", hint: "å°ˆé–€è™•ç† Edge çš„ç©æœ¨ã€‚" },
            { id: 4, category: "Looks", question: "ã€Œèªªå‡º Hello!ã€èˆ‡ã€Œèªªå‡º Hello! æŒçºŒ 2 ç§’ã€ç©æœ¨æœ€å¤§çš„å·®åˆ¥åœ¨æ–¼ï¼š", options: [{ text: "å‰è€…ä¸æœƒæ¶ˆå¤±ï¼Œå¾Œè€… 2 ç§’å¾Œæ¶ˆå¤±ä¸¦ç¹¼çºŒåŸ·è¡Œ", correct: true }, { text: "å­—é«”å¤§å°ä¸åŒ", correct: false }, { text: "å‰è€…æœ‰è²éŸ³", correct: false }, { text: "èªè¨€é™åˆ¶ä¸åŒ", correct: false }], rationale: "å«æ™‚é–“çš„ç©æœ¨æœ‰ã€Œç­‰å¾…ã€æ•ˆæœä¸”æœƒè‡ªå‹•æ¸…é™¤å°è©±æ¡†ï¼›ä¸å«æ™‚é–“çš„æœƒå¸¸é§é¡¯ç¤ºã€‚", hint: "æ³¨æ„æµç¨‹é †åºèˆ‡åœç•™æ™‚é–“ã€‚" },
            { id: 5, category: "Looks", question: "è‹¥æƒ³å°‡è§’è‰²çš„é¡è‰²è®Šæ·¡ç”šè‡³è®Šé€æ˜ï¼Œæ‡‰èª¿æ•´ã€Œå¤–è§€ã€é¡åˆ¥ä¸­çš„å“ªä¸€ç¨®æ•ˆæœï¼Ÿ", options: [{ text: "é¡è‰² (Color)", correct: false }, { text: "é­šçœ¼ (Fisheye)", correct: false }, { text: "äº®åº¦ (Brightness)", correct: false }, { text: "å¹»å½± (Ghost)", correct: true }], rationale: "å¹»å½± (Ghost) æ•ˆæœæ§åˆ¶é€æ˜åº¦ï¼Œå€¼è¶Šé«˜è¶Šé€æ˜ï¼Œ100 ç‚ºå®Œå…¨éš±å½¢ã€‚", hint: "è·Ÿå¹½éˆæœ‰é—œã€‚" },
            { id: 6, category: "Looks", question: "æƒ³è¦å°‡è§’è‰²çš„å¤§å°ç«‹åˆ»æ¢å¾©ç‚ºåŸå§‹çš„ 100%ï¼Œæ‡‰ä½¿ç”¨å“ªä¸€å€‹ç©æœ¨ï¼Ÿ", options: [{ text: "å°ºå¯¸æ”¹è®Š 10", correct: false }, { text: "å°ºå¯¸è¨­å®šç‚º 100 %", correct: true }, { text: "é¡¯ç¤º", correct: false }, { text: "æ¸…é™¤åœ–åƒæ•ˆæœ", correct: false }], rationale: "ã€Œè¨­å®šç‚º (Set)ã€æ˜¯æŒ‡å®šçµ•å°å€¼ï¼Œã€Œæ”¹è®Š (Change)ã€æ˜¯ç›¸å°å¢æ¸›ã€‚", hint: "æ”¹è®Š vs è¨­å®šã€‚" },
            { id: 7, category: "Sound", question: "ã€Œæ’­æ”¾éŸ³æ•ˆ Meowã€èˆ‡ã€Œæ’­æ”¾éŸ³æ•ˆ Meow ç›´åˆ°çµæŸã€æœ‰ä»€éº¼å€åˆ¥ï¼Ÿ", options: [{ text: "å‰è€…å¡ä½ç¨‹å¼", correct: false }, { text: "å¾Œè€…æœƒç­‰å¾…è²éŸ³æ’­å®Œæ‰åŸ·è¡Œä¸‹ä¸€å€‹ç©æœ¨", correct: true }, { text: "éŸ³é‡ä¸åŒ", correct: false }, { text: "ç„¡å€åˆ¥", correct: false }], rationale: "ã€Œç›´åˆ°çµæŸã€æ˜¯åŒæ­¥æŒ‡ä»¤ï¼Œç¨‹å¼æœƒæš«åœç›´åˆ°éŸ³è¨Šæ’­ç•¢ã€‚", hint: "æ€è€ƒèƒŒæ™¯éŸ³æ¨‚èˆ‡ç¨‹å¼åŸ·è¡Œçš„é—œä¿‚ã€‚" },
            { id: 8, category: "Sound", question: "å¦‚ä½•è®“æ‰€æœ‰çš„éŸ³æ•ˆç«‹å³å®‰éœä¸‹ä¾†ï¼Ÿ", options: [{ text: "éŸ³é‡è¨­å®šç‚º 0 %", correct: false }, { text: "åœæ­¢æ‰€æœ‰éŸ³æ•ˆ", correct: true }, { text: "éŸ³é€Ÿæ”¹è®Š -10", correct: false }, { text: "éš±è—", correct: false }], rationale: "ã€Œåœæ­¢æ‰€æœ‰éŸ³æ•ˆã€æœƒç«‹å³åˆ‡æ–·æ‰€æœ‰æ­£åœ¨æ’­æ”¾çš„è²éŸ³è»Œé“ã€‚", hint: "å¸¶æœ‰ Stop å«ç¾©çš„ç©æœ¨ã€‚" },
            { id: 9, category: "Events", question: "åœ¨ã€Œäº‹ä»¶ã€é¡åˆ¥ä¸­ï¼Œå“ªä¸€å€‹ç©æœ¨æœ€å¸¸ç”¨ä¾†ç•¶ä½œç¨‹å¼çš„å•Ÿå‹•ç¸½é–‹é—œï¼Ÿ", options: [{ text: "ç•¶ç©ºç™½éµè¢«æŒ‰ä¸‹", correct: false }, { text: "ç•¶è§’è‰²è¢«é»æ“Š", correct: false }, { text: "ç•¶ ç¶ æ—— è¢«é»æ“Š", correct: true }, { text: "ç•¶èƒŒæ™¯æ›æˆ...", correct: false }], rationale: "ç¶ æ——æ˜¯ Scratch é è¨­çš„æ¨™æº–ç¨‹å¼å•Ÿå‹•é»ã€‚", hint: "èˆå°ä¸Šæ–¹çš„ç¶ è‰²åœ–ç¤ºã€‚" },
            { id: 10, category: "Events", question: "ã€Œå»£æ’­è¨Šæ¯ã€ç©æœ¨çš„åŠŸèƒ½ä¸»è¦æ˜¯ä»€éº¼ï¼Ÿ", options: [{ text: "ç™¼å‡ºå–‡å­è²", correct: false }, { text: "é¡¯ç¤ºè·‘é¦¬ç‡ˆ", correct: false }, { text: "è§’è‰²é–“çš„æºé€šèˆ‡é€£å‹•è§¸ç™¼", correct: true }, { text: "æ”¹è®Šé¡è‰²", correct: false }], rationale: "å»£æ’­ (Broadcast) æ˜¯ç”¨æ–¼è§’è‰²é–“å‚³éè¨Šè™Ÿèˆ‡è§¸ç™¼äº‹ä»¶çš„æ©Ÿåˆ¶ã€‚", hint: "å¤§å–Šä¸€è²è®“åˆ¥äººè½åˆ°ã€‚" },
            { id: 11, category: "Control", question: "è‹¥æƒ³è®“ä¸€å€‹å‹•ä½œé‡è¤‡åŸ·è¡Œ 10 æ¬¡å¾Œåœæ­¢ï¼Œæ‡‰è©²ä½¿ç”¨å“ªä¸€å€‹æ§åˆ¶ç©æœ¨ï¼Ÿ", options: [{ text: "é‡è¤‡åŸ·è¡Œ", correct: false }, { text: "é‡è¤‡ 10 æ¬¡", correct: true }, { text: "å¦‚æœ...é‚£éº¼", correct: false }, { text: "ç­‰å¾… 10 ç§’", correct: false }], rationale: "ã€Œé‡è¤‡ N æ¬¡ã€ç©æœ¨æ˜¯è¨ˆæ•¸è¿´åœˆï¼ŒåŸ·è¡ŒæŒ‡å®šæ¬¡æ•¸å¾ŒçµæŸã€‚", hint: "åç¨±åŒ…å«å…·é«”æ¬¡æ•¸ã€‚" },
            { id: 12, category: "Control", question: "ã€Œå¦‚æœ...é‚£éº¼...å¦å‰‡...ã€èˆ‡ã€Œå¦‚æœ...é‚£éº¼...ã€çš„ä¸»è¦å·®ç•°æ˜¯ï¼š", options: [{ text: "ã€Œå¦å‰‡ã€éƒ¨åˆ†åœ¨æ¢ä»¶ä¸æˆç«‹æ™‚åŸ·è¡Œ", correct: true }, { text: "åˆ¤æ–·é¡å‹ä¸åŒ", correct: false }, { text: "é€Ÿåº¦ä¸åŒ", correct: false }, { text: "å¼·åˆ¶åœæ­¢", correct: false }], rationale: "é›™å‘é¸æ“‡çµæ§‹ (If-Else) ç¢ºä¿æ¢ä»¶æˆç«‹èˆ‡å¦éƒ½æœ‰å°æ‡‰å‹•ä½œã€‚", hint: "ä¸‹é›¨å¸¶å‚˜ï¼Œæ²’ä¸‹é›¨æˆ´å¸½ã€‚" },
            { id: 13, category: "Control", question: "å¦‚æœæƒ³è¦åœ¨ Scratch ç¨‹å¼ä¸­æš«åœä¸€ä¸‹ï¼Œç­‰å¾… 500 æ¯«ç§’ï¼Œæ‡‰è©²åœ¨ã€Œç­‰å¾…ã€ç©æœ¨è¼¸å…¥å¤šå°‘ï¼Ÿ", options: [{ text: "500", correct: false }, { text: "0.5", correct: true }, { text: "5", correct: false }, { text: "0.05", correct: false }], rationale: "Scratch æ™‚é–“å–®ä½ç‚ºç§’ã€‚500 æ¯«ç§’ = 0.5 ç§’ã€‚", hint: "å–®ä½æ˜¯ç§’ï¼Œå–„ç”¨å°æ•¸é»ã€‚" },
            { id: 14, category: "Control", question: "ã€Œåœæ­¢æ‰€æœ‰ã€ç©æœ¨æ”¾åœ¨ç¨‹å¼ä¸­æœƒç”¢ç”Ÿä»€éº¼çµæœï¼Ÿ", options: [{ text: "åªåœæ­¢ç›®å‰è§’è‰²", correct: false }, { text: "ç•«é¢è®Šé»‘", correct: false }, { text: "æ•´å€‹å°ˆæ¡ˆæ‰€æœ‰è…³æœ¬ç«‹å³åœæ­¢", correct: true }, { text: "æš«åœ 1 ç§’", correct: false }], rationale: "é€™æ˜¯å…¨åŸŸçµ‚æ­¢æŒ‡ä»¤ï¼Œç­‰åŒæ–¼æŒ‰ä¸‹ç´…è‰²åœæ­¢éˆ•ã€‚", hint: "å½±éŸ¿ç¯„åœæ˜¯æ•´å€‹å°ˆæ¡ˆã€‚" },
            { id: 15, category: "Sensing", question: "å¦‚ä½•åµæ¸¬è§’è‰²æ˜¯å¦ç¢°åˆ°äº†ç‰¹å®šçš„å¦ä¸€ä½è§’è‰²ï¼ˆä¾‹å¦‚ã€ŒSprite2ã€ï¼‰ï¼Ÿ", options: [{ text: "ä½¿ç”¨ã€Œç¢°åˆ° æ»‘é¼ æŒ‡æ¨™?ã€ä¸¦é¸å–®æ”¹ç‚ºã€ŒSprite2ã€", correct: true }, { text: "è·é›¢ < 10", correct: false }, { text: "é¡è‰²ç¢°åˆ°", correct: false }, { text: "ç•¶è§’è‰²è¢«é»æ“Š", correct: false }], rationale: "ã€Œç¢°åˆ°...ã€ç©æœ¨å¯é€éä¸‹æ‹‰é¸å–®é¸æ“‡å…¶ä»–è§’è‰²ã€é‚Šç·£æˆ–æ»‘é¼ ã€‚", hint: "åµæ¸¬é¡æœ€é ‚ç«¯çš„ç©æœ¨ã€‚" },
            { id: 16, category: "Sensing", question: "è‹¥è¦æª¢æŸ¥ã€Œç©ºç™½éµã€ç›®å‰æ˜¯å¦æ­£è¢«æŒ‰ä¸‹ï¼Œæ‡‰ä½¿ç”¨å“ªä¸€é¡ç©æœ¨ï¼Ÿ", options: [{ text: "äº‹ä»¶", correct: false }, { text: "åµæ¸¬ (Sensing)", correct: true }, { text: "æ§åˆ¶", correct: false }, { text: "å¤–è§€", correct: false }], rationale: "åµæ¸¬é¡çš„ã€Œéµ...è¢«æŒ‰ä¸‹?ã€å›å‚³å¸ƒæ—å€¼ï¼Œé©åˆç”¨æ–¼è¿´åœˆåˆ¤æ–·ï¼›äº‹ä»¶é¡å‰‡æ˜¯è§¸ç™¼å‹ã€‚", hint: "æŒçºŒæª¢æŸ¥ç‹€æ…‹ vs è§¸ç™¼ã€‚" },
            { id: 17, category: "Control", question: "æƒ³è¦è£½ä½œä¸€å€‹è¿½è¹¤æ»‘é¼ çš„éŠæˆ²ï¼Œæ‡‰è©²çµ„åˆå“ªå…©å€‹ç©æœ¨æœ€é©åˆï¼Ÿ", options: [{ text: "ã€Œé‡è¤‡åŸ·è¡Œã€+ã€Œé¢æœæ»‘é¼ ã€+ã€Œç§»å‹•ã€", correct: true }, { text: "å¦‚æœç¢°åˆ°æ»‘é¼  + èªªè©±", correct: false }, { text: "ç¶ æ—— + ç§»åˆ°éš¨æ©Ÿ", correct: false }, { text: "ç­‰å¾… + ä¸‹ä¸€é€ å‹", correct: false }], rationale: "ç„¡é™è¿´åœˆé…åˆæŒçºŒçš„é¢æœèˆ‡ç§»å‹•æŒ‡ä»¤ï¼Œå¯é”æˆæµæš¢è¿½è¹¤æ•ˆæœã€‚", hint: "ä¸æ–·è½‰å‘ä¸¦å‰é€²ã€‚" },
            { id: 18, category: "Motion", question: "å¦‚æœæƒ³è¦æª¢æ¸¬è§’è‰²ç›®å‰æ‰€åœ¨çš„ x åº§æ¨™æ˜¯å¦å¤§æ–¼ 100ï¼Œè©²å»å“ªè£¡æ‰¾ x åº§æ¨™é€™å€‹åœ“å½¢ç©æœ¨ï¼Ÿ", options: [{ text: "å¤–è§€", correct: false }, { text: "åµæ¸¬", correct: false }, { text: "å‹•ä½œ (Motion)", correct: true }, { text: "äº‹ä»¶", correct: false }], rationale: "è‡ªèº«çš„ä½ç½®è³‡è¨Š (x, y, æ–¹å‘) ä½æ–¼å‹•ä½œé¡åˆ¥åº•éƒ¨ã€‚", hint: "è·Ÿç§»å‹•ç›¸é—œçš„å±¬æ€§ã€‚" },
            { id: 19, category: "Control", question: "åœ¨ Scratch ä¸­ï¼Œã€Œç­‰å¾…ç›´åˆ°...ã€ç©æœ¨èˆ‡ã€Œç­‰å¾… 1 ç§’ã€ç©æœ¨çš„ä¸»è¦å€åˆ¥ç‚ºä½•ï¼Ÿ", options: [{ text: "å‰è€…æ ¹æ“šæ¢ä»¶æˆç«‹æ‰ç¹¼çºŒï¼Œå¾Œè€…æ ¹æ“šå›ºå®šæ™‚é–“", correct: true }, { text: "å‰è€…åªèƒ½æ”¾åœ¨è¿´åœˆå…§", correct: false }, { text: "å¾Œè€…å¯ä»¥è®“ç¨‹å¼æ°¸ä¹…åœæ­¢", correct: false }, { text: "å…©è€…åŠŸèƒ½å®Œå…¨ç›¸åŒ", correct: false }], rationale: "ã€Œç­‰å¾…ç›´åˆ°...ã€æœƒæš«åœè…³æœ¬ç›´åˆ°å…§éƒ¨çš„å¸ƒæ—å€¼æ¢ä»¶ç‚ºã€ŒçœŸã€ï¼›ã€Œç­‰å¾…ã€å‰‡æ˜¯å–®ç´”çš„æ™‚é–“å»¶é²ã€‚", hint: "ä¸€å€‹æ˜¯çœ‹äº‹ä»¶ç™¼ç”Ÿï¼Œä¸€å€‹æ˜¯çœ‹æ™‚é˜ã€‚" },
            { id: 20, category: "Control", question: "é—œæ–¼ã€Œç•¶åˆ†èº«ç”¢ç”Ÿã€ç©æœ¨ï¼Œä¸‹åˆ—æ•˜è¿°ä½•è€…æ­£ç¢ºï¼Ÿ", options: [{ text: "å®ƒå¯ä»¥ç”¨ä¾†æ§åˆ¶æœ¬é«”çš„æ‰€æœ‰å‹•ä½œ", correct: false }, { text: "åªæœ‰åŸ·è¡Œã€Œå»ºç«‹åˆ†èº«ã€å¾Œï¼Œåˆ†èº«æ‰æœƒåŸ·è¡Œå…¶ä¸‹æ–¹çš„æŒ‡ä»¤", correct: true }, { text: "é»æ“Šç¶ æ——å¾Œåˆ†èº«æœƒè‡ªå‹•ç”¢ç”Ÿ", correct: false }, { text: "åˆ†èº«ç”¢ç”Ÿå¾Œç„¡æ³•è¢«åˆªé™¤", correct: false }], rationale: "ã€Œç•¶åˆ†èº«ç”¢ç”Ÿã€æ˜¯åˆ†èº«çš„å•Ÿå‹•äº‹ä»¶ï¼Œå¿…é ˆå…ˆç”±ç¨‹å¼è§¸ç™¼ã€Œå»ºç«‹åˆ†èº«ã€æŒ‡ä»¤æ‰æœƒåŸ·è¡Œã€‚", hint: "åˆ†èº«éœ€è¦æœ‰äººã€Œæ–½æ³•ã€æ‰æœƒå‡ºç¾ã€‚" }
        ];

        const app = {
            currentView: 'dashboard',
            currentQuizIndex: 0,
            score: 0,
            quizFinished: false,

            init: function() {
                this.renderChart();
                this.renderKnowledgeGrid('all');
                this.updateNav();
            },

            navigate: function(viewId) {
                ['dashboard', 'knowledge', 'quiz'].forEach(id => {
                    document.getElementById(`view-${id}`).classList.add('hidden');
                    document.getElementById(`nav-${id}`).classList.remove('nav-active', 'text-orange-600');
                    document.getElementById(`nav-${id}`).classList.add('text-stone-500');
                });
                document.getElementById(`view-${viewId}`).classList.remove('hidden');
                document.getElementById(`nav-${viewId}`).classList.add('nav-active', 'text-orange-600');
                document.getElementById(`nav-${viewId}`).classList.remove('text-stone-500');
                this.currentView = viewId;
                if(viewId === 'quiz' && this.currentQuizIndex === 0 && !this.quizFinished) {
                    this.renderQuestion();
                }
                window.scrollTo(0, 0);
            },

            renderChart: function() {
                const ctx = document.getElementById('categoryChart').getContext('2d');
                const categories = {};
                quizData.forEach(q => { categories[q.category] = (categories[q.category] || 0) + 1; });
                const labels = ["Motion", "Looks", "Sound", "Events", "Control", "Sensing"];
                const data = labels.map(l => categories[l] || 0);
                new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: labels.map(l => {
                            const map = {Motion:'å‹•ä½œ', Looks:'å¤–è§€', Sound:'éŸ³æ•ˆ', Events:'äº‹ä»¶', Control:'æ§åˆ¶', Sensing:'åµæ¸¬'};
                            return map[l] || l;
                        }),
                        datasets: [{
                            label: 'çŸ¥è­˜åˆ†ä½ˆ',
                            data: data,
                            backgroundColor: 'rgba(234, 88, 12, 0.2)',
                            borderColor: 'rgba(234, 88, 12, 1)',
                            pointBackgroundColor: ['#4C97FF', '#9966FF', '#CF63CF', '#FFBF00', '#FFAB19', '#5CB1D6'],
                            borderWidth: 2
                        }]
                    },
                    options: { maintainAspectRatio: false, scales: { r: { beginAtZero: true, max: 6, ticks: { stepSize: 1 } } }, plugins: { legend: { display: false } } }
                });
            },

            filterKnowledge: function(category) { this.renderKnowledgeGrid(category); },

            renderKnowledgeGrid: function(filter) {
                const grid = document.getElementById('knowledge-grid');
                grid.innerHTML = '';
                const filteredData = filter === 'all' ? quizData : quizData.filter(q => q.category === filter);
                filteredData.forEach(item => {
                    const catClass = `scratch-${item.category.toLowerCase()}`;
                    const categoryChinese = {Motion:'å‹•ä½œ', Looks:'å¤–è§€', Sound:'éŸ³æ•ˆ', Events:'äº‹ä»¶', Control:'æ§åˆ¶', Sensing:'åµæ¸¬'}[item.category] || item.category;
                    const card = document.createElement('div');
                    card.className = `glass-panel rounded-xl p-6 ${catClass} hover:shadow-lg transition-all cursor-pointer group`;
                    card.onclick = () => {
                        card.querySelector('.card-content').classList.toggle('hidden');
                        card.querySelector('.card-answer').classList.toggle('hidden');
                    };
                    const correctOption = item.options.find(o => o.correct).text;
                    card.innerHTML = `
                        <div class="flex justify-between items-start mb-4">
                            <span class="text-xs font-bold px-2 py-1 bg-stone-100 rounded text-stone-600">${categoryChinese}</span>
                            <span class="text-xs text-stone-400">#${item.id}</span>
                        </div>
                        <div class="card-content">
                            <h3 class="font-medium text-lg text-stone-800 mb-2">${item.question}</h3>
                            <p class="text-sm text-stone-500 mt-4 group-hover:text-orange-500 transition-colors">ğŸ‘† é»æ“ŠæŸ¥çœ‹ç­”æ¡ˆèˆ‡è§£æ</p>
                        </div>
                        <div class="card-answer hidden animate-fade-in">
                            <p class="text-sm font-bold text-green-600 mb-2">æ­£ç¢ºç­”æ¡ˆï¼š${correctOption}</p>
                            <p class="text-sm text-stone-600 leading-relaxed bg-stone-50 p-3 rounded border border-stone-100">${item.rationale}</p>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            },

            renderQuestion: function() {
                if (this.currentQuizIndex >= quizData.length) { this.finishQuiz(); return; }
                const q = quizData[this.currentQuizIndex];
                document.getElementById('quiz-progress').innerText = `${this.currentQuizIndex + 1} / ${quizData.length}`;
                document.getElementById('progress-bar').style.width = `${((this.currentQuizIndex) / quizData.length) * 100}%`;
                document.getElementById('question-text').innerText = q.question;
                const optsContainer = document.getElementById('options-container');
                optsContainer.innerHTML = '';
                document.getElementById('feedback-area').classList.add('hidden');
                q.options.forEach((opt) => {
                    const btn = document.createElement('button');
                    btn.className = "w-full text-left p-4 rounded-xl border border-stone-200 hover:bg-stone-50 transition-colors flex items-center group";
                    btn.innerHTML = `<div class="w-6 h-6 rounded-full border-2 border-stone-300 mr-4 flex items-center justify-center group-hover:border-orange-500"><div class="w-2.5 h-2.5 rounded-full bg-orange-500 opacity-0 group-hover:opacity-100 transition-opacity"></div></div><span class="text-stone-700 font-medium">${opt.text}</span>`;
                    btn.onclick = () => this.checkAnswer(opt, q, btn);
                    optsContainer.appendChild(btn);
                });
            },

            checkAnswer: function(selectedOpt, questionObj, btnElement) {
                const allBtns = document.getElementById('options-container').children;
                for(let btn of allBtns) { btn.disabled = true; btn.classList.add('opacity-60', 'cursor-not-allowed'); }
                const feedbackArea = document.getElementById('feedback-area');
                const feedbackTitle = document.getElementById('feedback-title');
                feedbackArea.classList.remove('hidden');
                document.getElementById('feedback-text').innerText = questionObj.rationale;
                if (selectedOpt.correct) {
                    this.score++;
                    btnElement.classList.replace('border-stone-200', 'border-green-500');
                    btnElement.classList.add('bg-green-50');
                    feedbackTitle.innerText = "ç­”å°äº†ï¼";
                    feedbackTitle.className = "font-bold text-green-700";
                    document.getElementById('feedback-icon').innerText = "âœ…";
                } else {
                    btnElement.classList.replace('border-stone-200', 'border-red-500');
                    btnElement.classList.add('bg-red-50');
                    feedbackTitle.innerText = "ç­”éŒ¯äº†";
                    feedbackTitle.className = "font-bold text-red-700";
                    document.getElementById('feedback-icon').innerText = "âŒ";
                }
            },

            nextQuestion: function() { this.currentQuizIndex++; this.renderQuestion(); },
            finishQuiz: function() {
                this.quizFinished = true;
                document.getElementById('quiz-content').classList.add('hidden');
                document.getElementById('feedback-area').classList.add('hidden');
                document.getElementById('result-area').classList.remove('hidden');
                document.getElementById('final-score').innerText = this.score;
                document.getElementById('progress-bar').style.width = '100%';
            },
            resetQuiz: function() {
                this.currentQuizIndex = 0; this.score = 0; this.quizFinished = false;
                document.getElementById('quiz-content').classList.remove('hidden');
                document.getElementById('result-area').classList.add('hidden');
                this.renderQuestion();
            },
            updateNav: function() { this.navigate('dashboard'); }
        };

        window.onload = () => app.init();
    </script>
</body>
</html>